(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["donate"],{"0a78":function(e,t,a){"use strict";var l=a("1064"),r=a.n(l);r.a},1064:function(e,t,a){},"12c7":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-lx-warn"}),e._v(" 一个管理员可以有多个角色组,左侧的菜单根据管理员所拥有的权限进行生成")])],1)],1),a("div",{staticClass:"container"},[a("div",{staticClass:"table_btn"},[a("el-button",{attrs:{icon:"el-icon-refresh"}},[e._v("刷新")]),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete"},on:{click:function(t){return e.allDelete()}}},[e._v("批量删除")])],1),a("div",{staticClass:"box_table"},[a("el-table",{attrs:{data:e.tableData,border:""},on:{"selection-change":e.handleSelectionChange}},[e._v(' style="width: 100%"> '),a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"id",label:"序号",width:"80"}}),a("el-table-column",{attrs:{prop:"user",label:"用户名",width:"180"}}),a("el-table-column",{attrs:{prop:"operation",label:"操作",width:"180"}}),a("el-table-column",{attrs:{prop:"url",label:"Url"}}),a("el-table-column",{attrs:{prop:"IP",label:"IP"}}),a("el-table-column",{attrs:{prop:"action_time",label:"操作时间"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",icon:"el-icon-edit",type:"primary"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v(" 编辑 ")]),a("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v(" 删除 ")])]}}])})],1)],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next","current-page":e.query.pageIndex,"page-size":e.query.pageSize,total:e.pageTotal},on:{"current-change":e.handlePageChange}})],1)])])},r=[],i=(a("bc3a"),{data:function(){return{tableData:[{id:"1",user:"admin",operation:"登录",url:"/login",IP:"127.0.0.1",action_time:"2020-01-02 09:29:04"},{id:"2",user:"admin",operation:"添加管理员",url:"/auth/adminlog",IP:"127.0.0.1",action_time:"2020-01-02 09:29:04"},{id:"3",user:"admin",operation:"修改密码",url:"/auth/adminlog",IP:"127.0.0.1",action_time:"2020-01-02 09:29:04"}],multipleSelection:[],query:{address:"",name:"",pageIndex:1,pageSize:10},pageTotal:3}},mounted:function(){},methods:{handleSelectionChange:function(e){console.log(e),this.multipleSelection=e},allDelete:function(){var e=this;this.multipleSelection.length<1?this.$message.error("选择要删除的内容"):this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$message({type:"success",message:"删除成功!"})})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},handlePageChange:function(e){this.$set(this.query,"pageIndex",e)}}}),n=i,o=a("2877"),s=Object(o["a"])(n,l,r,!1,null,null,null);t["default"]=s.exports},"2a51":function(e,t,a){"use strict";var l=a("3607"),r=a.n(l);r.a},"2bca":function(e,t,a){"use strict";var l=a("b308"),r=a.n(l);r.a},3607:function(e,t,a){},"365c":function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var l=a("b775"),r=function(e){return Object(l["a"])({baseURL:null,url:"./table.json",method:"get",params:e})}},"43d7":function(e,t,a){"use strict";var l=a("b655"),r=a.n(l);r.a},"454f":function(e,t,a){a("46a7");var l=a("584a").Object;e.exports=function(e,t,a){return l.defineProperty(e,t,a)}},4574:function(e,t,a){},"46a7":function(e,t,a){var l=a("63b6");l(l.S+l.F*!a("8e60"),"Object",{defineProperty:a("d9f6").f})},"4c9d":function(e,t,a){"use strict";var l=a("78ba"),r=a.n(l);r.a},"50d3":function(e,t,a){"use strict";var l=a("89cf"),r=a.n(l);r.a},"50d6":function(e,t,a){"use strict";var l=a("57b7"),r=a.n(l);r.a},"57b7":function(e,t,a){},"57d1":function(e,t,a){"use strict";var l=a("87ec"),r=a.n(l);r.a},"66d2":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-lx-warn"}),e._v(" 一个管理员可以有多个角色组,左侧的菜单根据管理员所拥有的权限进行生成")])],1)],1),a("div",{staticClass:"container"},[a("div",{staticClass:"table_btn"},[a("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:e.refresh}},[e._v("刷新")]),a("el-button",{attrs:{type:"success",icon:"el-icon-edit"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("添加")]),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete"},on:{click:function(t){return e.allDelete()}}},[e._v("批量删除")])],1),a("div",{staticClass:"box_table"},[a("el-table",{attrs:{data:e.tableData,border:""},on:{"selection-change":e.handleSelectionChange}},[e._v(' style="width: 100%"> '),a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{prop:"id",label:"id",width:"55",align:"center"}}),a("el-table-column",{attrs:{prop:"modelName",label:"模型名称",width:"150"}}),a("el-table-column",{attrs:{prop:"tab_name",label:"表名",width:"180"}}),a("el-table-column",{attrs:{prop:"column_template",label:"栏目页模板",width:"180"}}),a("el-table-column",{attrs:{prop:"list_template",label:"列表页模板",width:"180"}}),a("el-table-column",{attrs:{prop:"details_template",label:"详情页模板",width:"180"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"btn",attrs:{size:"mini",icon:"el-icon-document-remove",type:"primary"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v(" 主表列表 ")]),a("el-button",{staticClass:"btn",attrs:{size:"mini",icon:"el-icon-document-remove",type:"success"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v(" 副表列表 ")]),a("el-button",{staticClass:"btn",attrs:{size:"mini",type:"info",icon:"el-icon-s-operation"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v(" 字段列表 ")]),a("el-button",{staticClass:"btn",attrs:{size:"mini",type:"warning",icon:"el-icon-document-copy"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v(" 复制模型 ")])]}}])}),a("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),a("el-button",{staticClass:"red",attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1)],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next","current-page":e.query.pageIndex,"page-size":e.query.pageSize,total:e.pageTotal},on:{"current-change":e.handlePageChange}})],1)]),a("el-dialog",{attrs:{title:"添加管理员",visible:e.dialogFormVisible,width:"35%"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"所属组别",prop:"group"}},[a("el-input",{model:{value:e.form.group,callback:function(t){e.$set(e.form,"group",t)},expression:"form.group"}})],1),a("el-form-item",{attrs:{label:"用户名",prop:"user"}},[a("el-input",{model:{value:e.form.user,callback:function(t){e.$set(e.form,"user",t)},expression:"form.user"}})],1),a("el-form-item",{attrs:{label:"昵称",prop:"nickname"}},[a("el-input",{model:{value:e.form.nickname,callback:function(t){e.$set(e.form,"nickname",t)},expression:"form.nickname"}})],1),a("el-form-item",{attrs:{label:"email",prop:"email"}},[a("el-input",{model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{attrs:{"show-password":""},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),a("el-form-item",{attrs:{label:"状态"}},[a("el-switch",{attrs:{"active-text":"正常","inactive-text":"隐藏","active-value":"1","inactive-value":"0"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("form")}}},[e._v("立即创建")]),a("el-button",{on:{click:function(t){return e.resetForm("form")}}},[e._v("重置")])],1)],1)],1)],1)},r=[],i=a("365c"),n=(a("bc3a"),{inject:["reload"],data:function(){return{tableData:[{id:"1",modelName:"下载",tab_name:"cmd_addondownload",column_template:"channel_download.html",list_template:"list_download.html",details_template:"show_download.html"},{id:"2",modelName:"下载",tab_name:"cmd_addondownload",column_template:"channel_download.html",list_template:"list_download.html",details_template:"show_download.html"},{id:"3",modelName:"下载",tab_name:"cmd_addondownload",column_template:"channel_download.html",list_template:"list_download.html",details_template:"show_download.html"},{id:"4",modelName:"下载",tab_name:"cmd_addondownload",column_template:"channel_download.html",list_template:"list_download.html",details_template:"show_download.html"}],query:{address:"",name:"",pageIndex:1,pageSize:10},pageTotal:0,multipleSelection:[],dialogFormVisible:!1,form:{group:"",user:"",nickname:"",email:"",password:"",status:""},rules:{group:[{required:!0,message:"请选择组别",trigger:"change"}],user:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}],nickname:[{required:!0,message:"请输入昵称",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},mounted:function(){this.getData()},created:function(){this.getData()},methods:{refresh:function(){},getData:function(){var e=this;Object(i["a"])(this.query).then((function(t){console.log(t),e.pageTotal=t.pageTotal||50}))},clearFilter:function(){this.$refs.filterTable.clearFilter()},filterTag:function(e,t){return t.status===e},handleSelectionChange:function(e){console.log(e),this.multipleSelection=e},allDelete:function(){var e=this;this.multipleSelection.length<1?this.$message.error("选择要删除的内容"):this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$message({type:"success",message:"删除成功!"})})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;var a=t.form;console.log(a),t.$message.success("提交成功！")}))},resetForm:function(e){this.$refs[e].resetFields()},handlePageChange:function(e){this.$set(this.query,"pageIndex",e),this.getData()}}}),o=n,s=(a("7286"),a("2877")),c=Object(s["a"])(o,l,r,!1,null,"4dbeddd4",null);t["default"]=c.exports},7286:function(e,t,a){"use strict";var l=a("fe94"),r=a.n(l);r.a},"78ba":function(e,t,a){},"85f2":function(e,t,a){e.exports=a("454f")},8798:function(e,t,a){},"87ec":function(e,t,a){},"89cf":function(e,t,a){},"8c81":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-lx-redpacket_fill"}),e._v(" 支持作者 ")])],1)],1),e._m(0)])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"plugins-tips"},[e._v("如果该框架对你有帮助，那就请作者喝杯饮料吧！加微信号linxin_20探讨问题。")]),a("div",[a("img",{attrs:{src:"https://lin-xin.gitee.io/images/weixin.jpg"}})])])}],i={},n=i,o=a("2877"),s=Object(o["a"])(n,l,r,!1,null,null,null);t["default"]=s.exports},"8d51":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-lx-warn"}),e._v(" 一个管理员可以有多个角色组,左侧的菜单根据管理员所拥有的权限进行生成")])],1)],1),a("div",{staticClass:"container"},[a("div",{staticClass:"table_btn"},[a("el-button",{attrs:{type:"success",icon:"el-icon-edit"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("添加")]),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete"},on:{click:function(t){return e.allDelete()}}},[e._v("批量删除")])],1),a("div",{staticClass:"box_table"},[a("el-table",{attrs:{data:e.tableData,border:""},on:{"selection-change":e.handleSelectionChange}},[e._v(' style="width: 100%"> '),a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"id",label:"序号",width:"80"}}),a("el-table-column",{attrs:{prop:"user",label:"用户名",width:"180"}}),a("el-table-column",{attrs:{prop:"nickname",label:"昵称",width:"180"}}),a("el-table-column",{attrs:{prop:"group",label:"所属组别"}}),a("el-table-column",{attrs:{prop:"email",label:"Email"}}),a("el-table-column",{attrs:{prop:"status",label:"状态",width:"100",filters:[{text:"正常",value:"正常"},{text:"禁用",value:"禁用"}],"filter-method":e.filterTag,"filter-placement":"bottom-end"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:"正常"===t.row.status?"primary":"success","disable-transitions":""}},[e._v(e._s(t.row.status)+" ")])]}}])}),a("el-table-column",{attrs:{prop:"last_login",label:"最后登录"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",icon:"el-icon-edit",type:"primary"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v(" 编辑 ")]),a("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v(" 删除 ")])]}}])})],1)],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next","current-page":e.query.pageIndex,"page-size":e.query.pageSize,total:e.pageTotal},on:{"current-change":e.handlePageChange}})],1)]),a("el-dialog",{attrs:{title:"添加管理员",visible:e.dialogFormVisible,width:"35%"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"所属组别",prop:"group"}},[a("el-input",{model:{value:e.form.group,callback:function(t){e.$set(e.form,"group",t)},expression:"form.group"}})],1),a("el-form-item",{attrs:{label:"用户名",prop:"user"}},[a("el-input",{model:{value:e.form.user,callback:function(t){e.$set(e.form,"user",t)},expression:"form.user"}})],1),a("el-form-item",{attrs:{label:"昵称",prop:"nickname"}},[a("el-input",{model:{value:e.form.nickname,callback:function(t){e.$set(e.form,"nickname",t)},expression:"form.nickname"}})],1),a("el-form-item",{attrs:{label:"email",prop:"email"}},[a("el-input",{model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{attrs:{"show-password":""},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),a("el-form-item",{attrs:{label:"状态"}},[a("el-switch",{attrs:{"active-text":"正常","inactive-text":"隐藏","active-value":"1","inactive-value":"0"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("form")}}},[e._v("立即创建")]),a("el-button",{on:{click:function(t){return e.resetForm("form")}}},[e._v("重置")])],1)],1)],1)],1)},r=[],i=a("365c"),n=(a("bc3a"),{data:function(){return{tableData:[{id:"1",user:"admin",nickname:"admin",group:"超级管理组",email:"admin123@163.com",status:"正常",last_login:"2019-12-26 10:28:02"},{id:"2",user:"admin",nickname:"admin",group:"超级管理组",email:"admin123@163.com",status:"正常",last_login:"2019-12-26 10:28:02"},{id:"3",user:"admin",nickname:"admin",group:"超级管理组",email:"admin123@163.com",status:"禁用",last_login:"2019-12-26 10:28:02"},{id:"4",user:"admin",nickname:"admin",group:"超级管理组",email:"admin123@163.com",status:"禁用",last_login:"2019-12-26 10:28:02"}],query:{address:"",name:"",pageIndex:1,pageSize:10},pageTotal:0,multipleSelection:[],dialogFormVisible:!1,form:{group:"",user:"",nickname:"",email:"",password:"",status:""},rules:{group:[{required:!0,message:"请选择组别",trigger:"change"}],user:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}],nickname:[{required:!0,message:"请输入昵称",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},mounted:function(){this.getData()},created:function(){this.getData()},methods:{getData:function(){var e=this;Object(i["a"])(this.query).then((function(t){console.log(t),e.pageTotal=t.pageTotal||50}))},clearFilter:function(){this.$refs.filterTable.clearFilter()},filterTag:function(e,t){return t.status===e},handleSelectionChange:function(e){console.log(e),this.multipleSelection=e},allDelete:function(){var e=this;this.multipleSelection.length<1?this.$message.error("选择要删除的内容"):this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$message({type:"success",message:"删除成功!"})})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;var a=t.form;console.log(a),t.$message.success("提交成功！")}))},resetForm:function(e){this.$refs[e].resetFields()},handlePageChange:function(e){this.$set(this.query,"pageIndex",e),this.getData()}}}),o=n,s=(a("abf6"),a("2877")),c=Object(s["a"])(o,l,r,!1,null,"a0fcc548",null);t["default"]=c.exports},"8ddd":function(e,t,a){"use strict";(function(e){a("7f7f");var l=a("6fa2"),r=l["a"].request;t["a"]={data:function(){var e={pid:[{required:!0,message:"请选择父级",trigger:"change"}],name:[{required:!0,message:"请输入规则",trigger:"blur"}],title:[{required:!0,message:"请输入标题",trigger:"blur"},{min:2,max:10,message:"长度在 2 到 10 个字符",trigger:"blur"}],icon:[{required:!0,message:"请输入图标",trigger:"blur"}],weigh:[{required:!0,message:"请输入排序",trigger:"blur"}]};return{multipleSelection:[],tableData:[],rules:e,editRules:e,addVisible:!1,editVisible:!1,ruleOpt:[],editRuleOpt:[],buttonLoading:!1,form:{ismenu:0,pid:0,title:"",icon:"",weigh:50,condition:"",remark:"",name:"",status:0},editForm:{id:0,ismenu:0,pid:0,title:"",icon:"",weigh:50,condition:"",remark:"",name:"",status:0}}},methods:{delete:function(t){var a=this;this.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){if(e.isNumber(t)&&(t=[t]),!e.isArray(t))return!1;r.post("/system/auth/delete-menu",{ids:t}).then((function(e){console.log(e);var t=e.code,l=(e.data,e.msg);0===t?(a.getRuleTree(),a.getRuleOpt(),a.$message({type:"success",message:"删除成功!"})):a.$message.error(l)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e),a.$message({type:"info",message:"删除失败，请重试!"})}))},handleSelectionChange:function(e){this.multipleSelection=e},allDelete:function(){if(this.multipleSelection.length<1)return this.$message.error("选择要删除的内容"),!1;this.delete(this.multipleSelection.map((function(e){return e.id})))},handleDelete:function(e,t){this.delete(t.id)},handleAdd:function(e){var t=this;this.$refs[e].validate((function(a){if(!a)return console.log("error submit!!"),!1;t.buttonLoading=!0,r.post("/system/auth/add-menu",t.form).then((function(a){t.buttonLoading=!1;var l=a.code,r=(a.data,a.msg);0===l?(t.$message.success(r),t.addVisible=!1,t.getRuleTree(),t.getRuleOpt(),t.resetForm(e)):t.$message.error(r)})).catch((function(e){console.log(e)}))}))},handleSort:function(){var t=this,a=function e(t){var a={},l={};while(a=t.shift()){if(!a.id||!a.weigh)break;l[a.id]=a.weigh+"",a.children&&a.children.length&&a.children.length>0&&(l=Object.assign(l,e(a.children)))}return l},l=a(e.cloneDeep(this.tableData));r.loading().post("/system/auth/menu-sort",{sorts:l}).then((function(e){var a=e.code,l=(e.data,e.msg);0===a?(t.getRuleTree(),t.$message({type:"success",message:l})):t.$message.error(l)}))},showEdit:function(e,t){var a=this;r.loading().get("/system/auth/edit-menu",{id:t.id}).then((function(e){var t=e.code,l=e.data,r=l.menu,i=r.id,n=(r.type,r.pid),o=r.name,s=r.title,c=r.icon,u=r.condition,d=r.remark,m=r.ismenu,p=r.weigh,f=r.status,b=l.parentList,h=e.msg;0===t?(a.editVisible=!0,a.editRuleOpt=b||[],a.editForm.id=i||0,a.editForm.ismenu=m||0,a.editForm.pid=n||0,a.editForm.title=s||"",a.editForm.icon=c||"",a.editForm.weigh=p||50,a.editForm.condition=u||"",a.editForm.remark=d||"",a.editForm.name=o||"",a.editForm.status=f||0):a.$message.error(h)}))},handleEdit:function(e){var t=this;this.$refs[e].validate((function(a){if(!a)return console.log("error submit!!"),!1;t.buttonLoading=!0,r.post("/system/auth/edit-menu",t.editForm).then((function(a){t.buttonLoading=!1;var l=a.code,r=(a.data,a.msg);0===l?(t.editVisible=!1,t.$message.success(r),t.getRuleTree(),t.getRuleOpt(),t.resetForm(e)):t.$message.error(r)})).catch((function(e){console.log(e)}))}))},getRuleTree:function(){var e=this;return r.loading().get("/system/auth/menu-list").then((function(t){var a=t.code,l=t.data.list,r=t.msg;return 0===a?e.tableData=l:e.$message.error(r),t}))},getRuleOpt:function(){var e=this;r.loading().get("/system/auth/add-menu").then((function(t){var a=t.code,l=t.data.parentList,r=t.msg;return 0===a?e.ruleOpt=l:e.$message.error(r),t}))},refresh:function(){var e=this;this.buttonLoading=!0,this.getRuleTree().then((function(t){e.buttonLoading=!1}))},resetForm:function(e){this.$refs[e].resetFields()}},created:function(){this.getRuleTree(),this.getRuleOpt()}}}).call(this,a("2ef0"))},abf6:function(e,t,a){"use strict";var l=a("c9c9"),r=a.n(l);r.a},acfb:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-lx-warn"}),e._v(" 一个管理员可以有多个角色组,左侧的菜单根据管理员所拥有的权限进行生成")])],1)],1),a("div",{staticClass:"container"},[a("div",{staticClass:"table_btn"},[a("el-button",{attrs:{type:"success",icon:"el-icon-edit"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("添加")]),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete"},on:{click:function(t){return e.allDelete()}}},[e._v("批量删除")])],1),a("div",{staticClass:"box_table"},[a("el-table",{attrs:{data:e.tableData,border:""},on:{"selection-change":e.handleSelectionChange}},[e._v(' style="width: 100%"> '),a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"id",label:"序号",width:"55",align:"center"}}),a("el-table-column",{attrs:{prop:"title",label:"标题"}}),a("el-table-column",{attrs:{prop:"mark",label:"标志"}}),a("el-table-column",{attrs:{prop:"label",label:"标签"}}),a("el-table-column",{attrs:{prop:"image",label:"图片"}}),a("el-table-column",{attrs:{prop:"Banne_image",label:"Banner图片"}}),a("el-table-column",{attrs:{prop:"url",label:"url"}}),a("el-table-column",{attrs:{prop:"browse",label:"浏览次数"}}),a("el-table-column",{attrs:{prop:"comment",label:"评论次数"}}),a("el-table-column",{attrs:{prop:"addtime",label:"添加时间"}}),a("el-table-column",{attrs:{prop:"status",label:"状态",width:"100",filters:[{text:"正常",value:"正常"},{text:"禁用",value:"禁用"}],"filter-method":e.filterTag,"filter-placement":"bottom-end"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:"正常"===t.row.status?"primary":"success","disable-transitions":""}},[e._v(e._s(t.row.status)+" ")])]}}])}),a("el-table-column",{attrs:{label:"操作",width:"230"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",icon:"el-icon-edit",type:"primary"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v(" 编辑 ")]),a("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v(" 删除 ")])]}}])})],1)],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next","current-page":e.query.pageIndex,"page-size":e.query.pageSize,total:e.pageTotal},on:{"current-change":e.handlePageChange}})],1)]),a("el-dialog",{attrs:{title:"添加管理员",visible:e.dialogFormVisible,width:"35%"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"所属组别",prop:"group"}},[a("el-input",{model:{value:e.form.group,callback:function(t){e.$set(e.form,"group",t)},expression:"form.group"}})],1),a("el-form-item",{attrs:{label:"用户名",prop:"user"}},[a("el-input",{model:{value:e.form.user,callback:function(t){e.$set(e.form,"user",t)},expression:"form.user"}})],1),a("el-form-item",{attrs:{label:"昵称",prop:"nickname"}},[a("el-input",{model:{value:e.form.nickname,callback:function(t){e.$set(e.form,"nickname",t)},expression:"form.nickname"}})],1),a("el-form-item",{attrs:{label:"email",prop:"email"}},[a("el-input",{model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{attrs:{"show-password":""},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),a("el-form-item",{attrs:{label:"状态"}},[a("el-switch",{attrs:{"active-text":"正常","inactive-text":"隐藏","active-value":"1","inactive-value":"0"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("form")}}},[e._v("立即创建")]),a("el-button",{on:{click:function(t){return e.resetForm("form")}}},[e._v("重置")])],1)],1)],1)],1)},r=[],i=a("365c"),n=(a("bc3a"),{data:function(){return{tableData:[{id:"1",title:"admin",mark:"",lable:"热门专题",image:"/",Banner_image:"/",url:"/index",nickname:"admin",group:"超级管理组",email:"admin123@163.com",status:"正常",last_login:"2019-12-26 10:28:02"},{id:"2",user:"admin",nickname:"admin",group:"超级管理组",email:"admin123@163.com",status:"正常",last_login:"2019-12-26 10:28:02"},{id:"3",user:"admin",nickname:"admin",group:"超级管理组",email:"admin123@163.com",status:"禁用",last_login:"2019-12-26 10:28:02"},{id:"4",user:"admin",nickname:"admin",group:"超级管理组",email:"admin123@163.com",status:"禁用",last_login:"2019-12-26 10:28:02"}],query:{address:"",name:"",pageIndex:1,pageSize:10},pageTotal:0,multipleSelection:[],dialogFormVisible:!1,form:{group:"",user:"",nickname:"",email:"",password:"",status:""},rules:{group:[{required:!0,message:"请选择组别",trigger:"change"}],user:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}],nickname:[{required:!0,message:"请输入昵称",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},mounted:function(){this.getData()},created:function(){this.getData()},methods:{getData:function(){var e=this;Object(i["a"])(this.query).then((function(t){console.log(t),e.pageTotal=t.pageTotal||50}))},clearFilter:function(){this.$refs.filterTable.clearFilter()},filterTag:function(e,t){return t.status===e},handleSelectionChange:function(e){console.log(e),this.multipleSelection=e},allDelete:function(){var e=this;this.multipleSelection.length<1?this.$message.error("选择要删除的内容"):this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$message({type:"success",message:"删除成功!"})})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;var a=t.form;console.log(a),t.$message.success("提交成功！")}))},resetForm:function(e){this.$refs[e].resetFields()},handlePageChange:function(e){this.$set(this.query,"pageIndex",e),this.getData()}}}),o=n,s=(a("57d1"),a("2877")),c=Object(s["a"])(o,l,r,!1,null,"1a434c06",null);t["default"]=c.exports},b0b4:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var l=a("85f2"),r=a.n(l);function i(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),r()(e,l.key,l)}}function n(e,t,a){return t&&i(e.prototype,t),a&&i(e,a),e}},b308:function(e,t,a){},b655:function(e,t,a){},b941:function(e,t,a){"use strict";(function(e){var l=a("6fa2"),r=a("eaed"),i=l["a"].request,n=l["a"].checkMobile,o=l["a"].dateFormat,s=new r["a"]("/system/auth/user-list");t["a"]={data:function(){var e={group:[{required:!0,message:"请选择组别",trigger:"change"}],user:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:2,max:10,message:"长度在 3 到 5 个字符",trigger:"blur"}],nickname:[{required:!0,message:"请输入昵称",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}],mobile:[{required:!0,message:"请输入手机号",trigger:"blur"},{validator:function(e,t,a){n(t)?a():a(new Error("请输入正确的手机号"))},message:"请输入正确的手机号",trigger:["blur","change"]}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},t={group_ids:e.group,user:e.user,nickname:e.nickname,email:e.email,mobile:e.mobile};return{tableData:[],pageTotal:0,multipleSelection:[],dialogFormVisible:!1,query:{keywords:""},currentPage:1,pageSize:5,form:{group:[],user:"",nickname:"",email:"",password:"",status:"",mobile:""},groupOpt:[],rules:e,editRules:t,currentEditData:{id:0,user:"",mobile:"",nickname:"",status:0,email:"",password:"",group_ids:[]},editDialog:!1,addUserLoading:!1,editUserLoading:!1}},created:function(){var e=this;this.getUserList({page:1}),i.get("/system/auth/add-user").then((function(t){var a=t.code,l=t.data.roleList;t.msg;0===a&&(e.groupOpt=l)})).catch((function(e){console.log(e)}))},methods:{handlePageChange:function(e){this.getUserList({page:e})},handleSearch:function(){s.setQuery(e.cloneDeep(this.query)),this.handlePageChange(1),this.currentPage=1},getUserList:function(t){var a=this,l=t.page,r=t.keywords;s.request({page:l,keywords:r}).then((function(t){var l=t.code,r=t.data,i=(r.currentPage,r.total),n=r.userList,s=t.msg;0===l?(a.pageTotal=i,a.tableData=n.map((function(t){return{id:t.id,user:t.user_name,nickname:t.user_nickname,group:e.map(t.roleInfo,(function(e,t){return[t,e]})),group_ids:e.map(t.roleInfo,(function(e,t){return parseInt(t)})),email:t.user_email,status:t.user_status,last_login:t.last_login_time?o(t.last_login_time):"",mobile:t.mobile}}))):a.$message.error(s)})).catch((function(e){console.log(e)}))},clearFilter:function(){this.$refs.filterTable.clearFilter()},filterTag:function(e,t){return t.status===e},handleSelectionChange:function(e){this.multipleSelection=e},delete:function(t){var a=this;this.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){if(e.isNumber(t)&&(t=[t]),!e.isArray(t))return!1;i.post("/system/auth/delete-admin",{ids:t}).then((function(e){console.log(e);var t=e.code,l=(e.data,e.msg);0===t?(a.getUserList({page:a.currentPage}),a.$message({type:"success",message:"删除成功!"})):a.$message.error(l)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e),a.$message({type:"info",message:"删除失败，请重试!"})}))},handleDelete:function(e,t){this.delete(t.id)},allDelete:function(){this.multipleSelection.length<1?this.$message.error("选择要删除的内容"):this.delete(this.multipleSelection.map((function(e){return e.id})))},addUser:function(){this.dialogFormVisible=!0},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;var a=t.form;t.addUserLoading=!0,i.post("/system/auth/add-user",{user_name:a.user,mobile:a.mobile,user_email:a.email,user_nickname:a.nickname,user_password:a.password,user_status:a.status,role_id:a.group}).then((function(e){t.addUserLoading=!1;var a=e.code,l=(e.data,e.msg);0===a?(t.$message.success(l),t.dialogFormVisible=!1,t.getUserList({page:1}),t.currentPage=1,t.resetForm("form")):t.$message.error(l)})).catch((function(e){console.log(e)}))}))},resetForm:function(e){this.$refs[e].resetFields()},handleEdit:function(e,t){var a=this;i.loading().get("/system/auth/edit-user",{id:t.id}).then((function(e){var t=e.code,l=e.data,r=l.checkedRoleIds,i=l.userInfo,n=e.msg;if(0===t){var o=i.id,s=i.user_name,c=i.mobile,u=i.user_nickname,d=i.user_status,m=i.user_email;a.currentEditData.id=o,a.currentEditData.user=s,a.currentEditData.mobile=c,a.currentEditData.nickname=u,a.currentEditData.status=d,a.currentEditData.email=m,a.currentEditData.password="",a.currentEditData.group_ids=r,a.editDialog=!0}else a.$message.error(n)}))},edit:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;var a=t.currentEditData,l={id:a.id,user_name:a.user,mobile:a.mobile,user_email:a.email,user_nickname:a.nickname,user_status:a.status,role_id:a.group_ids};""!=a.password&&(l.user_password=a.password),t.editUserLoading=!0,i.post("/system/auth/edit-user",l).then((function(e){t.editUserLoading=!1;var a=e.code,l=(e.data,e.msg);0===a?(t.$message.success(l),t.editDialog=!1,t.getUserList({page:t.currentPage}),t.resetForm("edit_form")):t.$message.error(l)})).catch((function(e){console.log(e)}))}))}}}}).call(this,a("2ef0"))},c3b0:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-lx-warn"}),e._v(" 一个管理员可以有多个角色组,左侧的菜单根据管理员所拥有的权限进行生成")])],1)],1),a("div",{staticClass:"container"},[a("div",{staticClass:"table_btn"},[a("el-button",{attrs:{type:"success",icon:"el-icon-edit"},on:{click:function(t){return e.addUser(t)}}},[e._v("添加")]),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete"},on:{click:function(t){return e.allDelete()}}},[e._v("批量删除")]),a("el-input",{staticClass:"menu-input",attrs:{placeholder:"用户名",clearable:""},model:{value:e.query.keywords,callback:function(t){e.$set(e.query,"keywords",t)},expression:"query.keywords"}}),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleSearch}},[e._v("搜索")])],1),a("div",{staticClass:"box_table"},[a("el-table",{attrs:{data:e.tableData,border:""},on:{"selection-change":e.handleSelectionChange}},[e._v(' style="width: 100%"> '),a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"id",label:"序号",width:"80"}}),a("el-table-column",{attrs:{prop:"user",label:"用户名",width:"180"}}),a("el-table-column",{attrs:{prop:"nickname",label:"昵称",width:"180"}}),a("el-table-column",{attrs:{prop:"group",label:"所属组别"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.group,(function(t,l){return a("el-tag",{staticClass:"group-tap",attrs:{type:"primary","disable-transitions":""}},[e._v(e._s(t[1])+" ")])}))}}])}),a("el-table-column",{attrs:{prop:"email",label:"Email"}}),a("el-table-column",{attrs:{prop:"status",label:"状态",width:"100",filters:[{text:"正常",value:"正常"},{text:"禁用",value:"禁用"}],"filter-method":e.filterTag,"filter-placement":"bottom-end"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:1===t.row.status?"primary":"success","disable-transitions":""}},[e._v(e._s(1===t.row.status?"正常":"禁用")+" ")])]}}])}),a("el-table-column",{attrs:{prop:"last_login",label:"最后登录"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",icon:"el-icon-edit",type:"primary"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v(" 编辑 ")]),a("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v(" 删除 ")])]}}])})],1)],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next",total:e.pageTotal,"current-page":e.currentPage,"page-size":e.pageSize},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"current-change":e.handlePageChange}})],1)]),a("el-dialog",{attrs:{title:"添加管理员",visible:e.dialogFormVisible,width:"35%"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"所属组别",prop:"group"}},[a("el-select",{attrs:{placeholder:"请选择",multiple:"","collapse-tags":""},model:{value:e.form.group,callback:function(t){e.$set(e.form,"group",t)},expression:"form.group"}},e._l(e.groupOpt,(function(e){return a("el-option",{key:e.id,attrs:{label:e.title_show,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"用户名",prop:"user"}},[a("el-input",{model:{value:e.form.user,callback:function(t){e.$set(e.form,"user",t)},expression:"form.user"}})],1),a("el-form-item",{attrs:{label:"昵称",prop:"nickname"}},[a("el-input",{model:{value:e.form.nickname,callback:function(t){e.$set(e.form,"nickname",t)},expression:"form.nickname"}})],1),a("el-form-item",{attrs:{label:"email",prop:"email"}},[a("el-input",{model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),a("el-form-item",{attrs:{label:"手机号",prop:"mobile"}},[a("el-input",{model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}})],1),a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{attrs:{"show-password":""},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),a("el-form-item",{attrs:{label:"状态"}},[a("el-switch",{attrs:{"active-text":"正常","inactive-text":"隐藏","active-value":1,"inactive-value":0},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:e.addUserLoading},on:{click:function(t){return e.submitForm("form")}}},[e._v("立即创建")]),a("el-button",{on:{click:function(t){return e.resetForm("form")}}},[e._v("重置")])],1)],1)],1),a("el-dialog",{attrs:{title:"编辑管理员信息",visible:e.editDialog,width:"35%"},on:{"update:visible":function(t){e.editDialog=t}}},[a("el-form",{ref:"edit_form",attrs:{model:e.currentEditData,rules:e.editRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"所属组别",prop:"group"}},[a("el-select",{attrs:{placeholder:"请选择",multiple:"","collapse-tags":""},model:{value:e.currentEditData.group_ids,callback:function(t){e.$set(e.currentEditData,"group_ids",t)},expression:"currentEditData.group_ids"}},e._l(e.groupOpt,(function(e){return a("el-option",{key:e.id,attrs:{label:e.title_show,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"用户名",prop:"user"}},[a("el-input",{model:{value:e.currentEditData.user,callback:function(t){e.$set(e.currentEditData,"user",t)},expression:"currentEditData.user"}})],1),a("el-form-item",{attrs:{label:"昵称",prop:"nickname"}},[a("el-input",{model:{value:e.currentEditData.nickname,callback:function(t){e.$set(e.currentEditData,"nickname",t)},expression:"currentEditData.nickname"}})],1),a("el-form-item",{attrs:{label:"email",prop:"email"}},[a("el-input",{model:{value:e.currentEditData.email,callback:function(t){e.$set(e.currentEditData,"email",t)},expression:"currentEditData.email"}})],1),a("el-form-item",{attrs:{label:"手机号",prop:"mobile"}},[a("el-input",{model:{value:e.currentEditData.mobile,callback:function(t){e.$set(e.currentEditData,"mobile",t)},expression:"currentEditData.mobile"}})],1),a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{attrs:{placeholder:"留空则不修改密码","show-password":""},model:{value:e.currentEditData.password,callback:function(t){e.$set(e.currentEditData,"password",t)},expression:"currentEditData.password"}})],1),a("el-form-item",{attrs:{label:"状态"}},[a("el-switch",{attrs:{"active-text":"正常","inactive-text":"隐藏","active-value":1,"inactive-value":0},model:{value:e.currentEditData.status,callback:function(t){e.$set(e.currentEditData,"status",t)},expression:"currentEditData.status"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:e.editUserLoading},on:{click:function(t){return e.edit("edit_form")}}},[e._v("修 改")]),a("el-button",{on:{click:function(t){return e.resetForm("edit_form")}}},[e._v("重置")])],1)],1)],1)],1)},r=[],i=a("b941"),n=i["a"],o=(a("43d7"),a("2877")),s=Object(o["a"])(n,l,r,!1,null,"6eceb62b",null);t["default"]=s.exports},c445:function(e,t,a){"use strict";var l=a("8798"),r=a.n(l);r.a},c9c9:function(e,t,a){},d225:function(e,t,a){"use strict";function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}a.d(t,"a",(function(){return l}))},d374:function(e,t,a){"use strict";(function(e){a("ac6a"),a("7f7f");var l=a("6fa2"),r=l["a"].request;t["a"]={data:function(){var e={parent_id:[{required:!0,message:"请选择组别",trigger:"change"}],list_order:[{required:!0,message:"请输入排序",trigger:"blur"}],name:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:2,max:10,message:"长度在 2 到 10 个字符",trigger:"blur"}],rule:[{required:!0,message:"请选择权限",trigger:"blur"}]};return{multipleSelection:[],refreshLoading:!1,addLoading:!1,treeList:[],addVisible:!1,addFormInit:{},form:{list_order:50,parent_id:"",name:"",rule:[],remark:"",status:0},auth:[],addRules:e,groupOptions:[],currentEditData:{id:0,parent_id:0,status:0,list_order:0,name:"",remark:"",rule:[]},editDialog:!1}},methods:{handleEdit:function(e,t){var a=this;r.loading().get("/system/auth/edit-role",{id:t.id}).then((function(e){var t=e.code,l=e.data,r=l.checkedRules,i=l.role,n=e.msg;if(0===t){var o=i.id,s=i.parent_id,c=i.status,u=i.list_order,d=i.name,m=i.remark;a.editDialog=!0,a.currentEditData.id=o,a.currentEditData.parent_id=s,a.currentEditData.status=c,a.currentEditData.list_order=u,a.currentEditData.name=d,a.currentEditData.remark=m,a.$set(a.currentEditData,"rule",r)}else a.$message.error(n)}))},handleEditAuthCheckChange:function(){this.currentEditData.rule=[];var e=this.$refs["edit-auth-tree"].getCheckedNodes(!1,!0),t=[];e.forEach((function(e){t.push(e.id)})),this.currentEditData.rule=t},edit:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;t.addLoading=!0,r.post("/system/auth/edit-role",t.currentEditData).then((function(e){t.addLoading=!1;var a=e.code,l=(e.data,e.msg);0===a?(t.$message.success(l),t.editDialog=!1,t.getTreeList(),t.getRoleList()):t.$message.error(l)})).catch((function(e){console.log(e)}))}))},handleAddAuthCheckChange:function(){this.form.rule=[];var e=this.$refs["add-auth-tree"].getCheckedNodes(!1,!0),t=[];e.forEach((function(e){t.push(e.id)})),this.form.rule=t},refresh:function(){var e=this;this.refreshLoading=!0,this.getTreeList().then((function(t){e.refreshLoading=!1}))},add:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;t.addLoading=!0,r.post("/system/auth/add-role",t.form).then((function(e){t.addLoading=!1;var a=e.code,l=(e.data,e.msg);0===a?(t.$message.success(l),t.addVisible=!1,t.resetAddForm(),t.getTreeList(),t.getRoleList()):t.$message.error(l)})).catch((function(e){console.log(e)}))}))},resetAddForm:function(){this.form=e.cloneDeep(this.addFormInit),this.$refs["add-auth-tree"].setCheckedKeys([])},resetForm:function(e){this.$refs[e].resetFields()},delete:function(t){var a=this;this.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){if(e.isNumber(t)&&(t=[t]),!e.isArray(t))return!1;r.post("/system/auth/delete-role",{ids:t}).then((function(e){console.log(e);var t=e.code,l=(e.data,e.msg);0===t?(a.getTreeList(),a.getRoleList(),a.$message({type:"success",message:"删除成功!"})):a.$message.error(l)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e),a.$message({type:"info",message:"删除失败，请重试!"})}))},handleSelectionChange:function(e){this.multipleSelection=e},handleDelete:function(e,t){this.delete(t.id)},allDelete:function(){if(this.multipleSelection.length<1)return this.$message.error("选择要删除的内容"),!1;this.delete(this.multipleSelection.map((function(e){return e.id})))},getTreeList:function(){var e=this;return r.loading().get("/system/auth/role-list").then((function(t){var a=t.code,l=t.data.list,r=t.msg;return 0===a?e.treeList=l:e.$message.error(r),t}))},getRoleList:function(){var e=this;r.get("/system/auth/add-user").then((function(t){var a=t.code,l=t.data.roleList,r=t.msg;0===a?e.groupOptions=l:e.$message.error(r)})).catch((function(e){console.log(e)}))},getAuthList:function(){var e=this;r.get("/system/auth/add-role").then((function(t){var a=t.code,l=t.data.menuList,r=t.msg;0===a?e.auth=l:e.$message.error(r)})).catch((function(e){console.log(e)}))}},created:function(){this.getTreeList(),this.getRoleList(),this.getAuthList(),this.addFormInit=e.cloneDeep(this.form)}}}).call(this,a("2ef0"))},e22f:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-lx-warn"}),e._v(" 一个管理员可以有多个角色组,左侧的菜单根据管理员所拥有的权限进行生成")])],1)],1),a("div",{staticClass:"container"},[a("div",{staticClass:"table_btn"},[a("el-button",{attrs:{icon:"el-icon-refresh",loading:e.refreshLoading},on:{click:e.refresh}},[e._v("刷新")]),a("el-button",{attrs:{type:"success",icon:"el-icon-lx-roundadd"},on:{click:function(t){e.addVisible=!0}}},[e._v("添加")]),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete"},on:{click:function(t){return e.allDelete()}}},[e._v("批量删除")])],1),a("div",{staticClass:"box_table"},[a("el-table",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:e.treeList,"row-key":"id",border:"","default-expand-all":"","tree-props":{children:"children",hasChildren:"hasChildren"}},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{"el-table-column":"",type:"selection",width:"50"}}),a("el-table-column",{attrs:{prop:"name",label:"名称"}}),a("el-table-column",{attrs:{prop:"id",label:"ID",width:"100"}}),a("el-table-column",{attrs:{prop:"parent_id",label:"父级",width:"100"}}),a("el-table-column",{attrs:{prop:"status",label:"状态",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:1===t.row.status?"success":"danger","disable-transitions":""}},[e._v(e._s(1===t.row.status?"正常":"禁用")+" ")])]}}])}),a("el-table-column",{attrs:{label:"操作",width:"260"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",icon:"el-icon-edit",type:"primary"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v(" 编辑 ")]),a("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v(" 删除 ")])]}}])})],1)],1)]),a("el-dialog",{attrs:{title:"添加用户组",visible:e.addVisible,width:"40%"},on:{"update:visible":function(t){e.addVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.addRules,"label-width":"70px"}},[a("el-form-item",{attrs:{label:"父级",prop:"parent_id"}},[a("el-select",{attrs:{size:"medium",placeholder:"请选择"},model:{value:e.form.parent_id,callback:function(t){e.$set(e.form,"parent_id",t)},expression:"form.parent_id"}},e._l(e.groupOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.title_show,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"排序",prop:"list_order"}},[a("el-input",{attrs:{type:"number"},model:{value:e.form.list_order,callback:function(t){e.$set(e.form,"list_order",t)},expression:"form.list_order"}})],1),a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入备注",rows:2},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),a("el-form-item",{attrs:{label:"状态"}},[a("el-switch",{attrs:{"active-text":"正常","inactive-text":"隐藏","active-value":1,"inactive-value":0},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}})],1),a("el-form-item",{attrs:{label:"权限",prop:"rule"}},[a("el-tree",{ref:"add-auth-tree",attrs:{data:e.auth,"show-checkbox":"",props:{label:"title"},"node-key":"id"},on:{"check-change":e.handleAddAuthCheckChange}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.addVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary",loading:e.addLoading},on:{click:function(t){return e.add("form")}}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"编辑用户组",visible:e.editDialog,width:"40%"},on:{"update:visible":function(t){e.editDialog=t}}},[a("el-form",{ref:"edit-form",attrs:{model:e.currentEditData,rules:e.addRules,"label-width":"70px"}},[a("el-form-item",{attrs:{label:"父级",prop:"parent_id"}},[a("el-select",{attrs:{size:"medium",placeholder:"请选择"},model:{value:e.currentEditData.parent_id,callback:function(t){e.$set(e.currentEditData,"parent_id",t)},expression:"currentEditData.parent_id"}},e._l(e.groupOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.title_show,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"排序",prop:"list_order"}},[a("el-input",{attrs:{type:"number"},model:{value:e.currentEditData.list_order,callback:function(t){e.$set(e.currentEditData,"list_order",t)},expression:"currentEditData.list_order"}})],1),a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入名称"},model:{value:e.currentEditData.name,callback:function(t){e.$set(e.currentEditData,"name",t)},expression:"currentEditData.name"}})],1),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入备注",rows:2},model:{value:e.currentEditData.remark,callback:function(t){e.$set(e.currentEditData,"remark",t)},expression:"currentEditData.remark"}})],1),a("el-form-item",{attrs:{label:"状态"}},[a("el-switch",{attrs:{"active-text":"正常","inactive-text":"隐藏","active-value":1,"inactive-value":0},model:{value:e.currentEditData.status,callback:function(t){e.$set(e.currentEditData,"status",t)},expression:"currentEditData.status"}})],1),e.editDialog?a("el-form-item",{attrs:{label:"权限",prop:"rule"}},[a("el-tree",{ref:"edit-auth-tree",attrs:{data:e.auth,"show-checkbox":"",props:{label:"title"},"node-key":"id","default-expanded-keys":e.currentEditData.rule,"default-checked-keys":e.currentEditData.rule},on:{"check-change":e.handleEditAuthCheckChange}})],1):e._e()],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.editDialog=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary",loading:e.addLoading},on:{click:function(t){return e.edit("edit-form")}}},[e._v("确 定")])],1)],1)],1)},r=[],i=a("d374"),n=i["a"],o=(a("50d3"),a("2877")),s=Object(o["a"])(n,l,r,!1,null,null,null);t["default"]=s.exports},e3bb:function(e,t,a){"use strict";var l=a("4574"),r=a.n(l);r.a},e663:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-lx-warn"}),e._v(" 一个管理员可以有多个角色组,左侧的菜单根据管理员所拥有的权限进行生成")])],1)],1),a("div",{staticClass:"container"},[a("div",{staticClass:"table_btn"},[a("el-button",{attrs:{icon:"el-icon-refresh",loading:e.buttonLoading},on:{click:e.refresh}},[e._v("刷新")]),a("el-button",{attrs:{type:"success",icon:"el-icon-lx-roundadd"},on:{click:function(t){e.addVisible=!0}}},[e._v("添加")]),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete"},on:{click:function(t){return e.allDelete()}}},[e._v("批量删除")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-sort"},on:{click:e.handleSort}},[e._v("排序")])],1),a("div",[a("el-table",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:e.tableData,"row-key":"id",border:"","default-expand-all":!1,"tree-props":{children:"children",hasChildren:"hasChildren"}},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{"el-table-column":"",type:"selection",width:"50"}}),a("el-table-column",{attrs:{prop:"title",label:"标题"}}),a("el-table-column",{attrs:{prop:"id",label:"ID",width:"100"}}),a("el-table-column",{attrs:{prop:"icon",label:"图标",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.icon?a("i",{staticClass:"i_fontsize",class:t.row.icon}):e._e()]}}])}),a("el-table-column",{attrs:{prop:"name",label:"规则"}}),a("el-table-column",{attrs:{prop:"weigh",label:"排序",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{type:"number",size:"small"},model:{value:t.row.weigh,callback:function(a){e.$set(t.row,"weigh",a)},expression:"scope.row.weigh"}})]}}])}),a("el-table-column",{attrs:{prop:"status",label:"状态",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:1==t.row.status?"success":"danger","disable-transitions":""}},[e._v(e._s(1==t.row.status?"正常":"禁用")+" ")])]}}])}),a("el-table-column",{attrs:{label:"操作",width:"260"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",icon:"el-icon-edit",type:"primary"},on:{click:function(a){return e.showEdit(t.$index,t.row)}}},[e._v(" 编辑 ")]),a("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v(" 删除 ")])]}}])})],1)],1)]),a("el-dialog",{attrs:{title:"添加规则",visible:e.addVisible,width:"35%"},on:{"update:visible":function(t){e.addVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"菜单"}},[a("el-switch",{attrs:{"active-text":"是","inactive-text":"否","active-value":1,"inactive-value":0},model:{value:e.form.ismenu,callback:function(t){e.$set(e.form,"ismenu",t)},expression:"form.ismenu"}})],1),a("el-form-item",{attrs:{label:"父级",prop:"pid"}},[a("el-select",{attrs:{size:"medium",placeholder:"请选择父级"},model:{value:e.form.pid,callback:function(t){e.$set(e.form,"pid",t)},expression:"form.pid"}},e._l(e.ruleOpt,(function(e){return a("el-option",{key:e.id,attrs:{label:e.title_show,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"规则",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入规则"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"标题",prop:"title"}},[a("el-input",{attrs:{placeholder:"请输入标题"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),a("el-form-item",{attrs:{label:"图标",prop:"icon"}},[a("icon-picker",{model:{value:e.form.icon,callback:function(t){e.$set(e.form,"icon",t)},expression:"form.icon"}})],1),a("el-form-item",{attrs:{label:"排序",prop:"weigh"}},[a("el-input",{attrs:{placeholder:"请输入排序"},model:{value:e.form.weigh,callback:function(t){e.$set(e.form,"weigh",t)},expression:"form.weigh"}})],1),a("el-form-item",{attrs:{label:"规则条件",prop:"condition"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入规则条件",rows:2},model:{value:e.form.condition,callback:function(t){e.$set(e.form,"condition",t)},expression:"form.condition"}})],1),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入备注",rows:2},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),a("el-form-item",{attrs:{label:"状态"}},[a("el-switch",{attrs:{"active-text":"正常","inactive-text":"隐藏","active-value":1,"inactive-value":0},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:e.buttonLoading},on:{click:function(t){return e.handleAdd("form")}}},[e._v("立即创建")]),a("el-button",{on:{click:function(t){return e.resetForm("form")}}},[e._v("重置")])],1)],1)],1),a("el-dialog",{attrs:{title:"编辑规则",visible:e.editVisible,width:"35%"},on:{"update:visible":function(t){e.editVisible=t}}},[a("el-form",{ref:"edit-form",attrs:{model:e.editForm,rules:e.editRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"菜单"}},[a("el-switch",{attrs:{"active-text":"是","inactive-text":"否","active-value":1,"inactive-value":0},model:{value:e.editForm.ismenu,callback:function(t){e.$set(e.editForm,"ismenu",t)},expression:"editForm.ismenu"}})],1),a("el-form-item",{attrs:{label:"父级",prop:"pid"}},[a("el-select",{attrs:{size:"medium",placeholder:"请选择父级"},model:{value:e.editForm.pid,callback:function(t){e.$set(e.editForm,"pid",t)},expression:"editForm.pid"}},e._l(e.editRuleOpt,(function(e){return a("el-option",{key:e.id,attrs:{label:e.title_show,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"规则",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入规则"},model:{value:e.editForm.name,callback:function(t){e.$set(e.editForm,"name",t)},expression:"editForm.name"}})],1),a("el-form-item",{attrs:{label:"标题",prop:"title"}},[a("el-input",{attrs:{placeholder:"请输入标题"},model:{value:e.editForm.title,callback:function(t){e.$set(e.editForm,"title",t)},expression:"editForm.title"}})],1),a("el-form-item",{attrs:{label:"图标",prop:"icon"}},[a("icon-picker",{model:{value:e.editForm.icon,callback:function(t){e.$set(e.editForm,"icon",t)},expression:"editForm.icon"}})],1),a("el-form-item",{attrs:{label:"排序",prop:"weigh"}},[a("el-input",{attrs:{placeholder:"请输入排序"},model:{value:e.editForm.weigh,callback:function(t){e.$set(e.editForm,"weigh",t)},expression:"editForm.weigh"}})],1),a("el-form-item",{attrs:{label:"规则条件",prop:"condition"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入规则条件",rows:2},model:{value:e.editForm.condition,callback:function(t){e.$set(e.editForm,"condition",t)},expression:"editForm.condition"}})],1),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入备注",rows:2},model:{value:e.editForm.remark,callback:function(t){e.$set(e.editForm,"remark",t)},expression:"editForm.remark"}})],1),a("el-form-item",{attrs:{label:"状态"}},[a("el-switch",{attrs:{"active-text":"正常","inactive-text":"隐藏","active-value":1,"inactive-value":0},model:{value:e.editForm.status,callback:function(t){e.$set(e.editForm,"status",t)},expression:"editForm.status"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:e.buttonLoading},on:{click:function(t){return e.handleEdit("edit-form")}}},[e._v("确 定")]),a("el-button",{on:{click:function(t){return e.resetForm("edit-form")}}},[e._v("重置")])],1)],1)],1)],1)},r=[],i=a("8ddd"),n=i["a"],o=(a("4c9d"),a("2877")),s=Object(o["a"])(n,l,r,!1,null,null,null);t["default"]=s.exports},e9ab:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-lx-warn"}),e._v(" 一个管理员可以有多个角色组,左侧的菜单根据管理员所拥有的权限进行生成")])],1)],1),a("div",{staticClass:"container"},[a("div",{staticClass:"table_btn"},[a("el-button",{attrs:{icon:"el-icon-refresh"}},[e._v("刷新")]),a("el-button",{attrs:{type:"success",icon:"el-icon-lx-roundadd"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("添加")]),a("el-button",{attrs:{type:"success",icon:"el-icon-lx-edit"},on:{click:function(t){e.addVisible=!0}}},[e._v("编辑")]),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete"},on:{click:function(t){return e.allDelete()}}},[e._v("批量删除")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-lx-settings"},on:{click:function(e){}}},[e._v("设置")])],1),a("div",[a("el-table",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:e.tableData,"row-key":"id",border:"","default-expand-all":"","tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{"el-table-column":"",type:"selection",width:"50"}}),a("el-table-column",{attrs:{prop:"title",label:"名称"}}),a("el-table-column",{attrs:{prop:"id",label:"ID",width:"60"}}),a("el-table-column",{attrs:{prop:"model",label:"模型",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return["新闻"==t.row.model?a("el-tag",{attrs:{type:"success"}},[e._v(e._s(t.row.model)+" ")]):e._e(),"下载"==t.row.model?a("el-tag",{attrs:{type:"info"}},[e._v(e._s(t.row.model)+" ")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"url",label:"Url",width:"60"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("i",{staticClass:"i_fontsize el-icon-link"})]}}])}),a("el-table-column",{attrs:{prop:"article",label:"文章数量",width:"80"}}),a("el-table-column",{attrs:{prop:"list_order",label:"权重",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{size:"mini"},model:{value:t.row.list_order,callback:function(a){e.$set(t.row,"list_order",a)},expression:"scope.row.list_order"}})]}}])}),a("el-table-column",{attrs:{prop:"type",label:"类型",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return["0"==t.row.type?a("el-tag",{attrs:{type:"info"}},[e._v("外部链接")]):e._e(),"1"==t.row.type?a("el-tag",{attrs:{type:"plain"}},[e._v("列表")]):e._e(),"2"==t.row.type?a("el-tag",{attrs:{type:"warning"}},[e._v("栏目")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"is_contribute",label:"是否允许投稿",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:"1"==t.row.is_contribute,callback:function(a){e.$set(t.row,"is_contribute == '1' ? true : false",a)},expression:"scope.row.is_contribute == '1' ? true : false "}})]}}])}),a("el-table-column",{attrs:{prop:"is_nav",label:"是否导航显示",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.row.is_nav,callback:function(a){e.$set(t.row,"is_nav",a)},expression:"scope.row.is_nav "}})]}}])}),a("el-table-column",{attrs:{prop:"status",label:"状态",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:"正常"===t.row.status?"success":"danger","disable-transitions":""}},[e._v(e._s(t.row.status)+" ")])]}}])}),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",icon:"el-icon-edit",type:"primary"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v(" 编辑 ")]),a("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v(" 删除 ")])]}}])})],1)],1)]),a("el-dialog",{attrs:{title:"添加栏目",visible:e.dialogFormVisible,width:"35%"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"类型"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"模型ID",prop:"model"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"上级栏目",prop:"pid"}},[a("el-tree-select",{attrs:{props:e.props,options:e.optionData,value:e.valueId,clearable:e.isClearable,accordion:e.isAccordion},on:{getValue:function(t){return e.getValue(t)}}})],1),a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{staticStyle:{width:"41%"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"图片",prop:"image"}},[a("span",{staticStyle:{float:"left",width:"41%"}},[a("el-input",{model:{value:e.form.image,callback:function(t){e.$set(e.form,"image",t)},expression:"form.image"}})],1),a("span",{staticStyle:{float:"left",width:"50%","padding-left":"15px"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1)]),a("el-form-item",{attrs:{label:"关键字",prop:"keyword"}},[a("el-input",{staticStyle:{width:"41%"},model:{value:e.form.keyword,callback:function(t){e.$set(e.form,"keyword",t)},expression:"form.keyword"}})],1),a("el-form-item",{attrs:{label:"描述",prop:"description"}},[a("el-input",{attrs:{type:"textarea "},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),a("el-form-item",{attrs:{label:"自定义名称",prop:"custom_name"}},[a("el-input",{attrs:{type:"textarea "},model:{value:e.form.custom_name,callback:function(t){e.$set(e.form,"custom_name",t)},expression:"form.custom_name"}})],1),a("el-form-item",{attrs:{label:"模板",prop:"model"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"状态"}},[a("el-switch",{attrs:{"active-text":"正常","inactive-text":"隐藏","active-value":"1","inactive-value":"0"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("form")}}},[e._v("立即创建")]),a("el-button",{on:{click:function(t){return e.resetForm("form")}}},[e._v("重置")])],1)],1)],1)],1)},r=[],i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-table",e._b({ref:"multipleTable",attrs:{data:e.formatData,"row-style":e.showRow}},"el-table",e.$attrs,!1),[a("el-table-column",{attrs:{"render-header":e.renderHeader,width:"50",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{on:{change:function(a){return e.toselect(t.row)}},model:{value:t.row.checks,callback:function(a){e.$set(t.row,"checks",a)},expression:"scope.row.checks"}})]}}])}),0===e.columns.length?a("el-table-column",{attrs:{width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._l(t.row._level,(function(e){return a("span",{key:e,staticClass:"ms-tree-space"})})),e.iconShow(0,t.row)?a("span",{staticClass:"tree-ctrl",on:{click:function(a){return e.toggleExpanded(t.$index)}}},[t.row._expanded?a("i",{staticClass:"el-icon-minus"}):a("i",{staticClass:"el-icon-plus"})]):e._e(),e._v(" "+e._s(t.$index)+" ")]}}],null,!1,601564488)}):e._l(e.columns,(function(t,l){return a("el-table-column",{key:t.value,attrs:{label:t.text,width:t.width},scopedSlots:e._u([{key:"default",fn:function(r){return[e._l(r.row._level,(function(t){return 0===l?a("span",{key:t,staticClass:"ms-tree-space"}):e._e()})),e.iconShow(l,r.row)?a("span",{staticClass:"tree-ctrl",on:{click:function(t){return e.toggleExpanded(r.$index)}}},[r.row._expanded?a("i",{staticClass:"el-icon-minus"}):a("i",{staticClass:"el-icon-plus"})]):e._e(),e._v(" "+e._s(r.row[t.value])+" ")]}}],null,!0)})})),e._t("default")],2)},n=[],o=(a("ac6a"),a("5df3"),a("1c4c"),a("2b0e"));function s(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=[];return Array.from(e).forEach((function(e){void 0===e._expanded&&o["default"].set(e,"_expanded",t);var i=1;if(void 0!==l&&null!==l&&(i=l+1),o["default"].set(e,"_level",i),a&&o["default"].set(e,"parent",a),r.push(e),e.child&&e.child.length>0){var n=s(e.child,t,e,i);r=r.concat(n)}})),r}var c={name:"TreeTable",data:function(){return{chooseson:!0,key:!0}},props:{data:{type:[Array,Object],required:!0},columns:{type:Array,default:function(){return[]}},evalFunc:Function,evalArgs:Array,expandAll:{type:Boolean,default:!1}},computed:{formatData:function(){var e;e=Array.isArray(this.data)?this.data:[this.data];var t=this.evalFunc||s,a=this.evalArgs?[e,this.expandAll].concat(this.evalArgs):[e,this.expandAll];return t.apply(null,a)}},methods:{showRow:function(e){var t=!e.row.parent||e.row.parent._expanded&&e.row.parent._show;return e.row._show=t,t?"animation:treeTableShow 1s;-webkit-animation:treeTableShow 1s;":"display:none;"},toggleExpanded:function(e){var t=this.formatData[e];t._expanded=!t._expanded},iconShow:function(e,t){return 0===e&&t.child&&t.child.length>0},renderHeader:function(e,t){return e("span",[e("input",{attrs:{id:"chooseall",type:"checkbox",style:"border: 1px solid #dcdfe6;border-radius: 2px;box-sizing: border-box;width: 14px;height: 14px;background-color: #fff;"}})])},setchildtobeselect:function(e,t){var a=this;e.forEach((function(e,l){e.checks=t,e.child&&a.setchildtobeselect(e.child,e.checks)}))},isallchecked:function(e){var t=this;e.forEach((function(e,a){e.checks||(t.key=!1),e.child&&t.isallchecked(e.child)}))},setparentfalse:function(e,t,a){var l=this;e.forEach((function(e,r){e._level==a-1&&e.child&&e.child.forEach((function(a,l){if(a.id==t)return e.checks=!1,!1})),e.child&&l.setparentfalse(e.child,t,a)}))},setparenttrue:function(e,t,a){var l=this;e.forEach((function(e,r){if(e._level==a-1&&e.child){var i=!0,n=!1;e.child.forEach((function(e,a){e.id==t&&(n=!0),e.checks||(i=!1)})),i&&n&&(e.checks=!0)}e.child&&l.setparentfalse(e.child,t,a)}))},toselect:function(e){console.log(e),e.child&&this.setchildtobeselect(e.child,e.checks),this.key=!0,this.isallchecked(this.formatData),e.checks?this.setparenttrue(this.formatData,e.id,e._level):(this.setparentfalse(this.formatData,e.id,e._level),document.getElementById("chooseall").checked=!1),this.key&&(document.getElementById("chooseall").checked=!0)}},mounted:function(){var e=this;this.$nextTick((function(){var t=e,a=document.getElementById("chooseall");a.onchange=function(e){console.log(a.checked),1==a.checked?t.setchildtobeselect(t.formatData,!0):t.setchildtobeselect(t.formatData,!1)}}))}},u=c,d=(a("2a51"),a("2bca"),a("2877")),m=Object(d["a"])(u,i,n,!1,null,"3bdfb96d",null),p=m.exports,f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-select",{attrs:{value:e.valueTitle,clearable:e.clearable},on:{clear:e.clearHandle}},[a("el-option",{staticClass:"options",attrs:{value:e.valueTitle,label:e.valueTitle}},[a("el-tree",{ref:"selectTree",attrs:{id:"tree-option",accordion:e.accordion,data:e.options,props:e.props,"node-key":e.props.value,"default-expanded-keys":e.defaultExpandedKey},on:{"node-click":e.handleNodeClick}})],1)],1)},b=[],h=(a("c5f6"),{name:"el-tree-select",props:{props:{type:Object,default:{value:"id",label:"title",children:"children"}},options:{type:Array,default:[]},value:{type:Number,default:null},clearable:{type:Boolean,default:!0},accordion:{type:Boolean,default:!1}},data:function(){return{valueId:null,valueTitle:"",defaultExpandedKey:[]}},mounted:function(){this.valueId=this.value,this.initHandle()},methods:{initHandle:function(){this.valueId&&(this.valueTitle=this.$refs.selectTree.getNode(this.valueId).data[this.props.label],this.$refs.selectTree.setCurrentKey(this.valueId),this.defaultExpandedKey=[this.valueId]),this.initScroll()},initScroll:function(){this.$nextTick((function(){var e=document.querySelectorAll(".el-scrollbar .el-select-dropdown__wrap")[0],t=document.querySelectorAll(".el-scrollbar .el-scrollbar__bar");e.style.cssText="margin: 0px; max-height: none; overflow: hidden;",t.forEach((function(e){return e.style.width=0}))}))},handleNodeClick:function(e){this.valueTitle=e[this.props.label],this.valueId=e[this.props.value],this.$emit("getValue",this.valueId),this.defaultExpandedKey=[]},clearHandle:function(){this.valueTitle="",this.valueId=null,this.defaultExpandedKey=[],this.clearSelected(),this.$emit("getValue",null)},clearSelected:function(){var e=document.querySelectorAll("#tree-option .el-tree-node");e.forEach((function(e){return e.classList.remove("is-current")}))}},watch:{value:function(){this.valueId=this.value,this.initHandle()}}}),g=h,v=(a("0a78"),Object(d["a"])(g,f,b,!1,null,"003b6be7",null)),_=v.exports,k={components:{ElTreeSelect:_,TreeTable:p},data:function(){return{fileList:[{name:"food.jpeg",url:"https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100"},{name:"food2.jpeg",url:"https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100"}],tableData:[{id:1,title:"新闻动态",model:"新闻",url:"/url/index",article:"25",list_order:"3",type:"2",is_contribute:"1",is_nav:!1,status:"正常",children:[{id:11,title:"公司动态",model:"新闻",url:"/url/index",article:"25",list_order:"3",type:"2",is_contribute:"0",is_nav:!0,status:"正常"},{id:12,title:"最新动态",model:"新闻",url:"/url/index",article:"25",list_order:"3",type:"2",is_contribute:"1",is_nav:!0,status:"正常"}]},{id:2,title:"APP开发",model:"新闻",url:"/url/index",article:"60",list_order:"4",type:"2",is_contribute:"1",is_nav:"1",status:"正常",children:[{id:21,title:"公司动态",model:"新闻",url:"/url/index",article:"25",list_order:"3",type:"2",is_contribute:"1",is_nav:!0,status:"正常"},{id:22,title:"手机网站",model:"新闻",url:"/url/index",article:"25",list_order:"3",type:"2",is_contribute:"1",is_nav:!1,status:"正常"},{id:23,title:"APP手机应用",model:"新闻",url:"/url/index",article:"25",list_order:"3",type:"0",is_contribute:"0",is_nav:!0,status:"正常"}]},{id:3,title:"下载管理",model:"下载",url:"/url/index",article:"0",list_order:"6",type:"1",is_contribute:"1",is_nav:!0,status:"正常"}],dialogFormVisible:!1,form:{name:"",image:"",keyword:"",description:"",custom_name:"",group:"",user:"",nickname:"",email:"",password:"",status:""},options:[{value:"1",label:"栏目"},{value:"2",label:"列表"},{value:"3",label:"外部链接"}],isClearable:!0,isAccordion:!0,valueId:20,props:{value:"id",label:"name",children:"children"},list:[{id:1,parentId:0,name:"一级菜单A",rank:1},{id:2,parentId:0,name:"一级菜单B",rank:1},{id:3,parentId:0,name:"一级菜单C",rank:1},{id:4,parentId:1,name:"二级菜单A-A",rank:2},{id:5,parentId:1,name:"二级菜单A-B",rank:2},{id:6,parentId:2,name:"二级菜单B-A",rank:2},{id:7,parentId:4,name:"三级菜单A-A-A",rank:3},{id:8,parentId:7,name:"四级菜单A-A-A-A",rank:4},{id:9,parentId:8,name:"五级菜单A-A-A-A-A",rank:5},{id:10,parentId:9,name:"六级菜单A-A-A-A-A-A",rank:6},{id:11,parentId:10,name:"七级菜单A-A-A-A-A-A-A",rank:7},{id:12,parentId:11,name:"八级菜单A-A-A-A-A-A-A-A",rank:8},{id:13,parentId:12,name:"九级菜单A-A-A-A-A-A-A-A-A",rank:9},{id:14,parentId:13,name:"十级菜单A-A-A-A-A-A-A-A-A-A",rank:10}],value:"",isShowSelect:!1}},computed:{optionData:function(){var e=JSON.parse(JSON.stringify(this.list));return e.filter((function(t){var a=e.filter((function(e){return t.id==e.parentId}));return a.length>0&&(t.children=a),0==t.parentId}))}},methods:{handleEdit:function(e,t){console.log(e),console.log(t)},handleDelete:function(e,t){console.log(e),console.log(t)},getValue:function(e){this.valueId=e,console.log(this.valueId)}}},w=k,y=(a("c445"),Object(d["a"])(w,l,r,!1,null,null,null));t["default"]=y.exports},eaed:function(e,t,a){"use strict";(function(e){var l=a("d225"),r=a("b0b4"),i=a("6fa2"),n=i["a"].request,o=function(){function t(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{page:1};Object(l["a"])(this,t),this.url=e,this.query=a}return Object(r["a"])(t,[{key:"request",value:function(){return this.query=e.assign({},this.query,this._objRemoveUndefined(arguments[0])),n.loading().get(this.url,this.query)}},{key:"_objRemoveUndefined",value:function(t){var a={};return e.forOwn(t,(function(l,r){e.isUndefined(t[r])||(a[r]=l)})),a}},{key:"setQuery",value:function(t){this.query=e.assign(this.query,this._objRemoveUndefined(t))}},{key:"getQuery",value:function(){return this.query}}]),t}();t["a"]=o}).call(this,a("2ef0"))},f715:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.tableRowClassName}},[a("el-table-column",{attrs:{prop:"id",label:"序号",width:"50"}}),a("el-table-column",{attrs:{prop:"title",label:"标题",width:"180"}}),a("el-table-column",{attrs:{prop:"read_time",label:"时间",width:"180"}}),a("el-table-column",{attrs:{prop:"is_read",label:"状态"}})],1),a("div",[e._v(e._s(e.test))])],1)},r=[],i=a("bc3a"),n=a.n(i),o={data:function(){return{tableData:[],list:[],test:""}},mounted:function(){this.init()},methods:{tableRowClassName:function(e){e.row;var t=e.rowIndex;return 1===t?"warning-row":3===t?"success-row":""},init:function(){var e=this;this.tableData=[],console.log(this.tableData);var t="http://web.ticai2.com/api/message/Message/getMessage";n.a.post(t,{uid:16}).then((function(t){200===t.status&&(t.data.code?e.tableData=t.data.data.data:console.log(2))})).catch((function(e){console.log(e)}))}}},s=o,c=(a("e3bb"),a("2877")),u=Object(c["a"])(s,l,r,!1,null,null,null);t["default"]=u.exports},fe94:function(e,t,a){},ff83:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-lx-warn"}),e._v(" 一个管理员可以有多个角色组,左侧的菜单根据管理员所拥有的权限进行生成")])],1)],1),a("div",{staticClass:"container",staticStyle:{background:"#F0F0F0",border:"0"}},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{xs:6,sm:6,md:6,lg:6,xl:6}},[a("div",{staticClass:"grid-content bg-white"},[a("div",{staticClass:"column_title"},[a("h5",[a("i",{staticClass:"el-icon-menu"}),e._v(" 栏目列表")])]),a("div",{staticClass:"column_list column_tree"},[a("el-tree",{ref:"tree",attrs:{data:e.treeData,props:e.defaultProps,"node-key":"id","default-expand-all":"","expand-on-click-node":!1},on:{"node-click":e.columnClick}})],1)])]),a("el-col",{attrs:{xs:18,sm:18,md:18,lg:18,xl:18}},[a("div",{staticClass:"grid-content bg-white"},[a("div",{staticClass:"details_list"},[a("div",{staticClass:"handle-box"},[a("el-button",{attrs:{icon:"el-icon-refresh"}},[e._v("刷新")]),a("el-button",{attrs:{type:"success",icon:"el-icon-lx-roundadd"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("添加")]),a("el-button",{attrs:{type:"success",icon:"el-icon-lx-edit"},on:{click:function(t){e.addVisible=!0}}},[e._v("编辑")]),a("el-button",{staticClass:"handle-del mr10",attrs:{type:"primary",icon:"el-icon-delete"},on:{click:e.delAllSelection}},[e._v("批量删除")]),a("el-select",{staticClass:"handle-select mr10",attrs:{placeholder:"地址"},model:{value:e.query.address,callback:function(t){e.$set(e.query,"address",t)},expression:"query.address"}},[a("el-option",{key:"1",attrs:{label:"广东省",value:"广东省"}}),a("el-option",{key:"2",attrs:{label:"湖南省",value:"湖南省"}})],1),a("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"用户名"},model:{value:e.query.name,callback:function(t){e.$set(e.query,"name",t)},expression:"query.name"}}),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleSearch}},[e._v("搜索")])],1),a("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:e.tableData,border:"","header-cell-class-name":"table-header"}},[a("el-table-column",{attrs:{type:"selection",width:"50",align:"center"}}),a("el-table-column",{attrs:{fixed:"",prop:"id",label:"ID",width:"55",align:"center"}}),a("el-table-column",{attrs:{prop:"column",label:"栏目",width:"100"}}),a("el-table-column",{attrs:{prop:"title",label:"文章标题"}}),a("el-table-column",{attrs:{label:"缩略图",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("el-image",{staticClass:"table-td-thumb",attrs:{src:e.row.image,"preview-src-list":[e.row.thumb]}})]}}])}),a("el-table-column",{attrs:{prop:"page_view",label:"浏览",width:"80"}}),a("el-table-column",{attrs:{prop:"comment",label:"评论",width:"80"}}),a("el-table-column",{attrs:{prop:"sort",label:"权重",width:"80"}}),a("el-table-column",{attrs:{label:"状态",align:"center",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"==t.row.status?a("el-tag",{attrs:{type:"success"}},[e._v("正常")]):a("el-tag",{attrs:{type:"danger"}},[e._v("禁用")])]}}])}),a("el-table-column",{attrs:{prop:"updateTime",label:"更新时间"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),a("el-button",{staticClass:"red",attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next","current-page":e.query.pageIndex,"page-size":e.query.pageSize,total:e.pageTotal}})],1)],1)])])],1)],1),a("el-dialog",{attrs:{title:"添加栏目",visible:e.dialogFormVisible,width:"35%"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px"}},[a("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"基础信息",name:"first"}},[a("el-form-item",{attrs:{label:"栏目ID",prop:"name"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"发布会员",prop:"name"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"所属专题",prop:"name"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"文章标题",prop:"name"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"缩略图",prop:"name"}},[a("span",{staticStyle:{float:"left",width:"45%"}},[a("el-input",{model:{value:e.form.image,callback:function(t){e.$set(e.form,"image",t)},expression:"form.image"}})],1),a("span",{staticStyle:{float:"left",width:"50%","padding-left":"15px"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1)]),a("el-form-item",{attrs:{label:"TAG",prop:"name"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"自定义URL",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.input1,callback:function(t){e.input1=t},expression:"input1"}},[a("template",{slot:"prepend"},[e._v("/cms/a/")])],2)],1),a("el-form-item",{attrs:{label:"内容",prop:"name"}},[a("quill-editor",{ref:"myTextEditor",attrs:{options:e.editorOption},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}})],1),a("el-form-item",{attrs:{label:"关键字",prop:"name"}},[a("el-input",{staticStyle:{width:"80%"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"描述",prop:"name"}},[a("el-input",{staticStyle:{width:"80%"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"产品列表",prop:"name"}},[a("span",{staticStyle:{float:"left",width:"45%"}},[a("el-input",{model:{value:e.form.image,callback:function(t){e.$set(e.form,"image",t)},expression:"form.image"}})],1),a("span",{staticStyle:{float:"left",width:"50%","padding-left":"15px"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1)])],1),a("el-tab-pane",{attrs:{label:"相关信息",name:"second"}},[a("el-form-item",{attrs:{label:"浏览",prop:"name"}},[a("el-input",{attrs:{"suffix-icon":"el-icon-lx-attention"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"评论",prop:"name"}},[a("el-input",{attrs:{"suffix-icon":"el-icon-lx-message"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"点赞",prop:"name"}},[a("el-input",{attrs:{"suffix-icon":"el-icon-thumb"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"踩",prop:"name"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"权重",prop:"name"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),a("el-tab-pane",{attrs:{label:"状态",name:"third"}},[a("el-form-item",{attrs:{label:"标志",prop:"name"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"发布时间",prop:"name"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}})],1),a("el-form-item",{attrs:{label:"状态"}},[a("el-switch",{attrs:{"active-text":"正常","inactive-text":"隐藏","active-value":"1","inactive-value":"0"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}})],1)],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("form")}}},[e._v("立即创建")]),a("el-button",{on:{click:function(t){return e.resetForm("form")}}},[e._v("重置")])],1)],1)],1)],1)},r=[],i=(a("a753"),a("8096"),a("14e1"),a("953d")),n={components:{quillEditor:i["quillEditor"]},data:function(){return{treeData:[{id:1,name:"技术部",level:1,child:[{id:2,name:"运维组",level:2,child:[{id:3,name:"测试",level:3,child:[{id:4,name:"前端",level:4,child:[{id:5,name:"前端",level:4}]}]},{id:6,name:"前端",level:4}]},{id:7,name:"测试组",level:2,child:[]}]}],defaultProps:{children:"child",label:"name"},query:{address:"",name:"",pageIndex:1,pageSize:10},tableData:[{id:1,column:"新闻中心",title:"智能WIFI无人机",image:"",page_view:"2641",comment:"651",sort:"23",status:1,updateTime:"2019-12-12 15:31:23"}],multipleSelection:[],delList:[],editVisible:!1,pageTotal:0,form:{},idx:-1,id:-1,dialogFormVisible:!1,activeName:"first"}},methods:{delAllSelection:function(){},handleSearch:function(){},columnClick:function(){var e=this.$refs.tree.getCurrentKey(),t=[{id:e,column:"新闻中心-"+e,title:"智能WIFI无人机-"+e,image:"",page_view:"2641",comment:"651",sort:"23",status:1,updateTime:"2019-12-12 15:31:23"}];this.tableData=t},handleClick:function(e,t){console.log(e,t)}}},o=n,s=(a("50d6"),a("2877")),c=Object(s["a"])(o,l,r,!1,null,"340ee644",null);t["default"]=c.exports}}]);